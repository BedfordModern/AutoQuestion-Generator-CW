function NextClick(n){if(document.getElementById("nextButton").innerHTML=="Next")document.getElementById(n).submit();else{var t=window.open("/groups/create?closeAfter=true","MsgWindow","width=1000,height=800");t.document.addEventListener("unload",function(){t.location.href.includes("/groups/create")});t.addEventListener("load",function(){var n=t.document.getElementById("createGroupButton");n.onclick=function(){var n=t.$("form").serialize();t.$.ajax({type:"POST",url:t.$("createGroupForm").attr("action"),data:n,success:function(n){var r=document.getElementById("groupSelector"),u=n.split(";"),i;r.selectedIndex>=0&&(i=document.createElement("option"),i.value=u[0],i.text=u[1],r.add(i));t.close()}})}},!1)}}function GroupSelectorOnChange(){var n=document.getElementById("groupSelector"),t=n.options[n.selectedIndex].value;document.getElementById("nextButton").innerHTML=t=="-1"?"Create":"Next"}function sortTable(n,t){var h,r,u,i,o,s,e,f,c=0;for(h=document.getElementById(t),u=!0,f="asc";u;){for(u=!1,r=h.rows,i=1;i<r.length-1;i++)if(e=!1,o=r[i].getElementsByTagName("TD")[n],s=r[i+1].getElementsByTagName("TD")[n],f=="asc"){if(o.innerHTML.toLowerCase()>s.innerHTML.toLowerCase()){e=!0;break}}else if(f=="desc"&&o.innerHTML.toLowerCase()<s.innerHTML.toLowerCase()){e=!0;break}e?(r[i].parentNode.insertBefore(r[i+1],r[i]),u=!0,c++):c==0&&f=="asc"&&(f="desc",u=!0)}}$(document).ready(GroupSelectorOnChange);