function NextClick(n){if(document.getElementById("nextButton").innerHTML=="Next")document.getElementById(n).submit();else{var t=window.open("/groups/create?closeAfter=true","MsgWindow","width=1000,height=800");t.document.addEventListener("unload",function(){t.location.href.includes("/groups/create")});t.addEventListener("load",function(){var n=t.document.getElementById("createGroupButton");n.onclick=function(){var n=t.$("form").serialize();t.$.ajax({type:"POST",url:t.$("createGroupForm").attr("action"),data:n,success:function(n){var r=document.getElementById("groupSelector"),u=n.split(";"),i;r.selectedIndex>=0&&(i=document.createElement("option"),i.value=u[0],i.text=u[1],r.add(i));t.close()}})}},!1)}}function GroupSelectorOnChange(){var n=document.getElementById("groupSelector"),t=n.options[n.selectedIndex].value;document.getElementById("nextButton").innerHTML=t=="-1"?"Create":"Next"}function sortTable(n,t){var s,u,i,h,c,o,f,a=0,v,l,e,r;for(s=document.getElementById(t),u=!0,v=s.rows[0].getElementsByTagName("TH"),l=document.getElementById("posSpan"),l!=null&&l.remove(),e=document.createElement("i"),e.id="posSpan",e.classList="up",v[n].appendChild(e),f="asc";u;)for(u=!1,r=s.rows,i=1;i<r.length-1;i++){if(o=!1,h=r[i].getElementsByTagName("TD")[n],c=r[i+1].getElementsByTagName("TD")[n],f=="asc"){if(h.innerHTML.toLowerCase()>c.innerHTML.toLowerCase()){o=!0;break}}else if(f=="dsc"&&h.innerHTML.toLowerCase()<c.innerHTML.toLowerCase()){o=!0;break}o?(r[i].parentNode.insertBefore(r[i+1],r[i]),u=!0,a++):a==0&&f=="asc"&&(e.classList="down",f="dsc",u=!0)}}$(document).ready(GroupSelectorOnChange);